//// ------------------------------------------------------
//// THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
//// ------------------------------------------------------

Table Wallet {
  id Int [pk, increment]
  address String [unique, not null]
  label String [not null, default: '']
  avatar String [not null, default: '']
  createdAt DateTime [default: `now()`, not null]
  lastLogin DateTime
  nonce String [unique, not null]
  role Role [not null, default: 'User']
  creator Creator
  comics WalletComic [not null]
}

Table Creator {
  id Int [pk, increment]
  email String [unique, not null]
  name String [unique, not null]
  slug String [unique, not null]
  thumbnail String [not null, default: '']
  avatar String [not null, default: '']
  banner String [not null, default: '']
  logo String [not null, default: '']
  description String [not null, default: '']
  flavorText String [not null, default: '']
  website String [not null, default: '']
  createdAt DateTime [default: `now()`, not null]
  deletedAt DateTime
  featuredAt DateTime
  verifiedAt DateTime
  popularizedAt DateTime
  emailConfirmedAt DateTime
  comics Comic [not null]
  wallet Wallet [not null]
  walletId Int [unique, not null]
}

Table Comic {
  id Int [pk, increment]
  name String [unique, not null]
  slug String [unique, not null]
  isOngoing Boolean [not null, default: true]
  thumbnail String [not null, default: '']
  pfp String [not null, default: '']
  logo String [not null, default: '']
  description String [not null, default: '']
  flavorText String [not null, default: '']
  website String [not null, default: '']
  twitter String [not null, default: '']
  discord String [not null, default: '']
  telegram String [not null, default: '']
  instagram String [not null, default: '']
  medium String [not null, default: '']
  tikTok String [not null, default: '']
  youTube String [not null, default: '']
  magicEden String [not null, default: '']
  openSea String [not null, default: '']
  updatedAt DateTime [not null]
  createdAt DateTime [default: `now()`, not null]
  deletedAt DateTime
  featuredAt DateTime
  verifiedAt DateTime
  publishedAt DateTime
  popularizedAt DateTime
  genres Genre [not null]
  issues ComicIssue [not null]
  wallets WalletComic [not null]
  creator Creator [not null]
  creatorId Int [not null]
}

Table WalletComic {
  comic Comic [not null]
  comicId Int [not null]
  wallet Wallet [not null]
  walletId Int [not null]
  rating Int
  isSubscribed Boolean [not null, default: false]
  isFavourite Boolean [not null, default: false]
  isWhitelisted Boolean [not null, default: false]

  indexes {
    (comicId, walletId) [pk]
  }
}

Table Genre {
  id Int [pk, increment]
  name String [unique, not null]
  slug String [unique, not null]
  image String [not null, default: '']
  deletedAt DateTime
  comics Comic [not null]
}

Table ComicIssue {
  id Int [pk, increment]
  number Int [not null]
  title String [not null]
  slug String [not null]
  description String [not null, default: '']
  flavorText String [not null, default: '']
  cover String [not null, default: '']
  soundtrack String [not null, default: '']
  magicEden String [not null, default: '']
  openSea String [not null, default: '']
  releaseDate DateTime [not null]
  createdAt DateTime [default: `now()`, not null]
  deletedAt DateTime
  featuredAt DateTime
  verifiedAt DateTime
  publishedAt DateTime
  popularizedAt DateTime
  comic Comic [not null]
  comicId Int [not null]
  pages ComicPage [not null]
  nfts NFT [not null]

  indexes {
    (number, comicId) [unique]
    (slug, comicId) [unique]
    (title, comicId) [unique]
  }
}

Table NFT {
  id Int [pk, increment]
  mint String [unique, not null]
  comicIssue ComicIssue [not null]
  comicIssueId Int [not null]
}

Table ComicPage {
  id Int [pk, increment]
  pageNumber Int [increment, not null]
  isPreviewable Boolean [not null, default: false]
  image String [not null]
  altImage String [not null, default: '']
  comicIssue ComicIssue [not null]
  comicIssueId Int [not null]

  indexes {
    (pageNumber, comicIssueId) [unique]
  }
}

Table ComicToGenre {
  genresId Int [ref: > Genre.id]
  comicsId Int [ref: > Comic.id]
}

Enum Role {
  Superadmin
  Admin
  User
}

Ref: Creator.walletId - Wallet.id [delete: Cascade]

Ref: Comic.creatorId > Creator.id [delete: Cascade]

Ref: WalletComic.comicId > Comic.id [delete: Cascade]

Ref: WalletComic.walletId > Wallet.id [delete: Cascade]

Ref: ComicIssue.comicId > Comic.id [delete: Cascade]

Ref: NFT.comicIssueId > ComicIssue.id [delete: Cascade]

Ref: ComicPage.comicIssueId > ComicIssue.id [delete: Cascade]